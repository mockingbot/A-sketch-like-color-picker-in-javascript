{"version":3,"file":"main.es.js","sources":["../src/Theme/index.js","../src/Canvas/Circle/index.js","../src/Canvas/index.js","../src/History/index.js","../src/Bands/ColorBand/index.js","../src/Bands/index.js","../src/DashBoard/ColorInput/index.js","../src/DashBoard/index.js","../src/utils.js","../src/index.js"],"sourcesContent":["import React from 'react'\n\nimport styles from './index.sass'\n\nexport default class Theme extends React.Component {\n  handleClick = (e) => {\n    const { color } = e.currentTarget.dataset\n    const { handleTheme } = this.props\n    handleTheme(color)\n  }\n  render () {\n    const { themes } = this.props\n    return (\n      <section className={styles['theme-pane']}>\n        { themes.map((color, i) => {\n          return (\n            <div\n              key={i}\n              data-color={color}\n              onClick={this.handleClick}\n              className={`${styles['theme']} ${i===0 && styles['transparent']}`}\n              style={{backgroundColor: color}}>\n            </div>\n          )\n        }) }\n      </section>\n    )\n  }\n}\n\nTheme.propTypes = {\n  themes: React.PropTypes.array,\n  handleTheme: React.PropTypes.func\n}\n\n/* 以前写的渐变corner, 样式可以收藏起来\n  <span className=\"color_mode flat_color\"></span>\n  <span className=\"color_mode linear_gradient\"></span>\n  <span className=\"color_mode radial_gradient\"></span>\n  <span className=\"color_mode pattern_fill\"></span>\n  <span className=\"color_mode transparent_color\"></span>\n*/","import React from 'react'\nimport styles from './index.sass'\n\nexport default class Circle extends React.Component {\n  render () {\n    const { left, top } = this.props\n    return (\n      <span style={{left, top}} className={styles['color-circle']}></span>\n    )\n  }\n}\n","import React from 'react'\nimport Circle from './Circle'\nimport styles from './index.sass'\n\nexport default class Canvas extends React.Component {\n  componentDidMount () {\n    /*\n      TODO rect的计算放到DidMount会导致页面滚动后, clientRect变化了,\n      但使用的还是原数值, 但考虑到墨刀没有滚动, 放在这里能省去不少重复的计算\n    */\n    const rect = this.canvas.getBoundingClientRect()\n    this.top = rect.top\n    this.left = rect.left\n    this.width = rect.width\n    this.height = rect.height\n  }\n  handleDown = (e) => {\n    this.mousedown = true\n    this.updatePosition(e.nativeEvent)\n    document.addEventListener('mousemove', this.updatePosition)\n    document.addEventListener('mouseup', this.detachEvent)\n  }\n  updatePosition = (e) => {\n    if (!this.mousedown) return\n    const { clientX, clientY } = e\n    let percentX = (clientX - this.left) / this.width * 100\n    let percentY = (clientY - this.top) / this.height * 100\n    if (percentX < 0)   percentX = 0\n    if (percentX > 100) percentX = 100\n    if (percentY < 0)   percentY = 0\n    if (percentY > 100) percentY = 100\n    const canvasLeft = percentX + '%'\n    const canvasTop = percentY + '%'\n    this.props.handleChange({ canvasLeft, canvasTop })\n  }\n  detachEvent = (e) => {\n    this.mouseDown = false\n    document.removeEventListener('mousemove', this.updatePosition)\n    document.removeEventListener('mouseup', this.detachEvent)\n  }\n  render () {\n    const { color: backgroundColor, left, top } = this.props\n    return (\n      <section\n        ref={(ref) => { this.canvas = ref }}\n        className={styles['canvas-pane']}\n        style={{backgroundColor}}\n        onMouseDown={this.handleDown}>\n        <div className={styles['overlay-1']}></div>\n        <div className={styles['overlay-2']}></div>\n        <Circle {...{left, top}} />\n      </section>\n    )\n  }\n}\n\nCanvas.propTypes = {\n  color: React.PropTypes.string,\n  left: React.PropTypes.string,\n  top: React.PropTypes.string,\n  handleChange: React.PropTypes.func\n}\n","import React from 'react'\nimport styles from './index.sass'\n\nexport default class History extends React.Component {\n  render () {\n    return (\n      <div className={styles['history-pane']}>\n        <span>最近使用的颜色</span>\n      </div>\n    )\n  }\n}\n\nHistory.propTypes = {\n  'a': React.PropTypes.string\n}\n","import React from 'react'\nimport styles from './index.sass'\n\nconst CLASSNAME = {\n  color: styles['color-band'],\n  opacity: styles['opacity-band']\n}\n\nexport default class ColorBand extends React.Component {\n  componentDidMount () {\n    /*\n      TODO rect的计算放到DidMount会导致页面滚动后, clientRect变化了,\n      但使用的还是原数值, 但考虑到墨刀没有滚动, 放在这里能省去不少重复的计算\n    */\n    const band = this.refs.band.getBoundingClientRect()\n    this.left = band.left\n    this.width = band.width//btn.width / 2\n  }\n  handleDown = (e) => {\n    this.mouseDown = true\n    this.updatePosition(e.nativeEvent)\n    document.addEventListener('mousemove', this.updatePosition)\n    document.addEventListener('mouseup', this.detachEvent)\n  }\n  updatePosition = (e) => {\n    if (!this.mouseDown) return\n    const percent = (e.clientX - this.left) / this.width * 100 >> 0\n    if (percent < 0 || percent > 100) return\n    this.props.handleChange(percent + '%')\n  }\n  detachEvent = (e) => {\n    this.mouseDown = false\n    document.removeEventListener('mousemove', this.updatePosition)\n    document.removeEventListener('mouseup', this.detachEvent)\n  }\n  render () {\n    const { type, left, color } = this.props\n    const gradient = `linear-gradient(to right, transparent 0%, ${color} 100%)`\n    return (\n      <div\n        ref=\"band\"\n        onMouseDown={this.handleDown}\n        className={`${styles['band']} ${CLASSNAME[type]}`}>\n        {type === 'opacity' && <div className={styles['opacity-bg']} style={{ backgroundImage: gradient }}></div>}\n        <span className={styles['btn']} style={{ left }}></span>\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport ColorBand from './ColorBand'\n\nimport styles from './index.sass'\n\nexport default class Bands extends React.Component {\n  setColorOffset = (colorOffset) => {\n    this.props.handleChange({ colorOffset })\n  }\n  setOpacityOffset = (opacityOffset) => {\n    this.props.handleChange({ opacityOffset })\n  }\n  render () {\n    const { color, colorOffset, opacityOffset } = this.props\n    return (\n      <section className={styles['band-pane']}>\n        <div className={styles['color-bands']}>\n          <ColorBand\n            type=\"color\"\n            left={colorOffset}\n            handleChange={this.setColorOffset} />\n          <ColorBand\n            type=\"opacity\"\n            color={color}\n            left={opacityOffset}\n            handleChange={this.setOpacityOffset} />\n        </div>\n        <div className={styles['preview-bg']}>\n          <div className={styles['preview']} style={{ backgroundColor: color, opacity: parseInt(opacityOffset) / 100 }}></div>\n        </div>\n      </section>\n    )\n  }\n}\n\nBands.propTypes = {\n  color: React.PropTypes.string,\n  colorOffset: React.PropTypes.string,\n  opacityOffset: React.PropTypes.string,\n  handleChange: React.PropTypes.func\n}\n","import React from 'react'\n\nexport default class ColorInput extends React.Component {\n  render () {\n    const { label, maxLength, size, value } = this.props\n    return (\n      <div className=\"color-input Hex_value\">\n        <label htmlFor=\"\">{label}</label>\n        <input type=\"text\" {...{maxLength, size, value}} />\n      </div>\n    )\n  }\n}\n\nColorInput.propTypes = {\n  'a': React.PropTypes.string\n}\n\n","import React from 'react'\nimport ColorInput from './ColorInput'\nimport styles from './index.sass'\n\nexport default class DashBoard extends React.Component {\n  render () {\n    const { color, rgb, alpha } = this.props\n    return (\n      <section className={styles['value-pane']}>\n        <ColorInput size=\"7\" label=\"#\" maxLength=\"6\" value={color.slice(1)} />\n        <ColorInput size=\"3\" label=\"R\" maxLength=\"3\" value={rgb.r} />\n        <ColorInput size=\"3\" label=\"G\" maxLength=\"3\" value={rgb.g} />\n        <ColorInput size=\"3\" label=\"B\" maxLength=\"3\" value={rgb.b} />\n        <ColorInput size=\"3\" label=\"A\" maxLength=\"6\" value={alpha} />\n      </section>\n    )\n  }\n}\n\nDashBoard.propTypes = {\n  rgb: React.PropTypes.object,\n  alpha: React.PropTypes.number\n}\n","export {\n  hexToHsb,\n  hexToRgb,\n  hsbToHex,\n  hsbToRgb,\n  rgbToHex\n}\nfunction getDegree (start, end, width, height) {\n  var deltaX = end.x - start.x;\n  var deltaY = end.y - start.y;\n  //从(0,0)逆时针旋转到(deltaX, deltaY)的角度\n  var deg = Math.atan2(deltaY * height, deltaX * width) / Math.PI * 180\n  //弧度转角度\n  return deg\n  return Math.round(deg)\n}\n//e.g. (0.2, -0.5, 100, 200, 45)\nfunction getLinearPercent (perX, perY, width, height, theta){\n  // console.log(\"====================\")\n  // console.log(perX, perY, width, height, theta)\n  // console.log('theta: ',theta)\n  if(theta < -90){\n    // 左上\n    var posX = width * (1 - perX);\n    var posY = height * (1 - perY);\n  }else if(theta < 0){\n    // 右上\n    var posX = width * perX;\n    var posY = height * (1 - perY);\n  }else if(theta < 90){\n    // 右下\n    var posX = width * perX;\n    var posY = height * perY;\n  }else{\n    // 左下\n    var posX = width * (1 - perX);\n    var posY = height * perY;\n  }\n  // console.log('传入参数实际坐标: ',posX, posY)\n  //求出夹角tan的绝对值\n  var tan = Math.abs(Math.tan(theta / 180 * Math.PI))\n  // console.log('tan: ',tan)\n  //分子\n  var molecular = posX + posY * tan;\n  //分母\n  // var denominator = width + height * tan;\n  var denominator = width + height * tan;\n  // var sin = Math.sin(-theta / 180 * Math.PI)\n  // console.log(perY * height / sin)\n  // console.log(molecular / (1 + tan * tan))\n  var result = molecular / denominator;\n  // console.log('渐变百分比点为: ',result)\n  // console.log(\"====================\")\n  // console.log(result)\n  return parseFloat(result.toFixed(2))\n}\n//Color space convertions\nfunction hexToRgb (hex) {\n  var hex = parseInt(((hex.indexOf('#') > -1) ? hex.substring(1) : hex), 16);\n  return {r: hex >> 16, g: (hex & 0x00FF00) >> 8, b: (hex & 0x0000FF)};\n};\nfunction hexToHsb (hex) {\n  return rgbToHsb(hexToRgb(hex));\n};\nfunction rgbToHsb (rgb) {\n  var hsb = {h: 0, s: 0, b: 0};\n  var min = Math.min(rgb.r, rgb.g, rgb.b);\n  var max = Math.max(rgb.r, rgb.g, rgb.b);\n  var delta = max - min;\n  hsb.b = max;\n  hsb.s = max != 0 ? 255 * delta / max : 0;\n  if (hsb.s != 0) {\n    if (rgb.r == max) hsb.h = (rgb.g - rgb.b) / delta;\n    else if (rgb.g == max) hsb.h = 2 + (rgb.b - rgb.r) / delta;\n    else hsb.h = 4 + (rgb.r - rgb.g) / delta;\n  } else hsb.h = -1;\n  hsb.h *= 60;\n  if (hsb.h < 0) hsb.h += 360;\n  hsb.s *= 100/255;\n  hsb.b *= 100/255;\n  return hsb;\n};\nfunction hsbToRgb (hsb) {\n  var rgb = {};\n  var h = hsb.h;\n  var s = hsb.s*255/100;\n  var v = hsb.b*255/100;\n  if(s == 0) {\n    rgb.r = rgb.g = rgb.b = v;\n  } else {\n    var t1 = v;\n    var t2 = (255-s)*v/255;\n    var t3 = (t1-t2)*(h%60)/60;\n    if(h==360) h = 0;\n    if(h<60) {rgb.r=t1; rgb.b=t2; rgb.g=t2+t3}\n    else if(h<120) {rgb.g=t1; rgb.b=t2; rgb.r=t1-t3}\n    else if(h<180) {rgb.g=t1; rgb.r=t2; rgb.b=t2+t3}\n    else if(h<240) {rgb.b=t1; rgb.r=t2; rgb.g=t1-t3}\n    else if(h<300) {rgb.b=t1; rgb.g=t2; rgb.r=t2+t3}\n    else if(h<360) {rgb.r=t1; rgb.g=t2; rgb.b=t1-t3}\n    else {rgb.r=0; rgb.g=0; rgb.b=0}\n  }\n  return {r:Math.round(rgb.r), g:Math.round(rgb.g), b:Math.round(rgb.b)};\n};\nfunction rgbToHex (rgb) {\n  var hex = [\n    rgb.r.toString(16),\n    rgb.g.toString(16),\n    rgb.b.toString(16)\n  ];\n  hex.map((val, nr) => {\n    if (val.length == 1) {\n      hex[nr] = '0' + val;\n    }\n  })\n  return hex.join('');\n};\nfunction hsbToHex (hsb) {\n  return rgbToHex(hsbToRgb(hsb));\n};","import React from 'react'\n\nimport Theme from './Theme'\nimport Canvas from './Canvas'\nimport History from './History'\nimport Bands from './Bands'\nimport DashBoard from './DashBoard'\n\nimport styles from './index.sass'\n\nimport { hexToHsb, hexToRgb, hsbToHex } from './utils'\n\nexport default class ColorPicker extends React.Component {\n  constructor ({ color, opacity }) {\n    super()\n    this.setPosInfo(color, opacity)\n  }\n  setPosInfo (color, opacity = 100) {\n    const hsb = hexToHsb(color)\n    this.colorOffset = hsb.h + '%'\n    this.canvasLeft = hsb.s + '%'\n    this.canvasTop = 100 - hsb.b + '%'\n    this.opacityOffset = opacity + '%'\n  }\n  handleChange = (state) => {\n    Object.assign(this, state)\n    const { canvasLeft, canvasTop, colorOffset, opacityOffset } = this\n    // console.log(canvasLeft, canvasTop, colorOffset, opacityOffset)\n    const opacity = parseInt(opacityOffset)\n    const hex = '#' + hsbToHex({\n      h: parseInt(colorOffset) * 360 / 100,\n      s: parseInt(canvasLeft),\n      b: 100 - parseInt(canvasTop)\n    })\n    this.props.onChange(hex, opacity)\n  }\n  handleTheme = (color) => {\n    this.setPosInfo(color)\n    this.props.onChange(color, 100)\n  }\n  render () {\n    const { color, opacity, style, themes } = this.props\n    const { canvasLeft, canvasTop, colorOffset, opacityOffset } = this\n    // console.log(canvasLeft, canvasTop, colorOffset, opacityOffset)\n    const rgb = hexToRgb(color)\n    const canvasColor = '#' + hsbToHex({\n      h: parseInt(colorOffset) * 360 / 100,\n      s: 100,\n      b: 100\n    })\n\n    return (\n      <div className={styles['colorpicker']} style={style}>\n        <Theme themes={themes} handleTheme={this.handleTheme} />\n        <Canvas top={canvasTop} left={canvasLeft}\n          color={canvasColor} handleChange={this.handleChange}>\n        </Canvas>\n        <Bands\n          color={color} colorOffset={colorOffset}\n          opacityOffset={opacityOffset} handleChange={this.handleChange}>\n        </Bands>\n        <DashBoard color={color} rgb={rgb} alpha={opacity} />\n        <span className={styles['hr']}/>\n        <History />\n      </div>\n    )\n  }\n}\n\nColorPicker.propTypes = {\n  color: React.PropTypes.string,\n  themes: React.PropTypes.array,\n  opacity: React.PropTypes.number,\n  onChange: React.PropTypes.func,\n  style: React.PropTypes.object\n}\nColorPicker.defaultProps = {\n  color: '#F55D54',\n  opacity: 50\n}\n"],"names":["Theme","handleClick","e","color","currentTarget","dataset","handleTheme","props","themes","styles","map","i","backgroundColor","React","Component","propTypes","PropTypes","array","func","Circle","left","top","Canvas","handleDown","mousedown","updatePosition","nativeEvent","addEventListener","detachEvent","clientX","clientY","percentX","width","percentY","height","canvasLeft","canvasTop","handleChange","mouseDown","removeEventListener","rect","canvas","getBoundingClientRect","ref","string","History","CLASSNAME","ColorBand","percent","band","refs","type","gradient","backgroundImage","Bands","setColorOffset","colorOffset","setOpacityOffset","opacityOffset","opacity","parseInt","ColorInput","label","maxLength","size","value","DashBoard","rgb","alpha","slice","r","g","b","object","number","hexToRgb","hex","indexOf","substring","hexToHsb","rgbToHsb","hsb","h","s","min","Math","max","delta","hsbToRgb","v","t1","t2","t3","round","rgbToHex","toString","val","nr","length","join","hsbToHex","ColorPicker","setPosInfo","style","canvasColor","state","assign","onChange","defaultProps"],"mappings":"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"}